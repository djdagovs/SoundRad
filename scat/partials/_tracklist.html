<div class="sc-tracklist" ng-class="{loading: tracksLoading}" ng-controller="PlayerCtrl">

  <div ng-hide="tracks.length || tracksLoading">No tracks for {{scget}}</div>

  <div class="track track-{{track.title}}" ng-repeat="track in tracks" ng-switch on="track.kind">
    
    <div class="jx-player media" ng-class="{active: player.current.title == track.title}" ng-switch-when="track" ng-controller="TrackCtrl">
    
      <a href="" class="jx-play no-touch-color" ng-click="playTracks(tracks, $index)" ng-hide="player.current.title == track.title"><i class="i-jxn-play"></i></a>
      <a href="" class="jx-pause no-touch-color" ng-click="pauseTrack(track)" ng-show="player.current.title == track.title"><i class="i-jxn-pause"></i></a>
      <div class="bd">
        <p class="jx-artist">{{track.user.username}}<span ng-show="track.sharing == 'private'"> [private]</span></p> <!-- &mdash; {{track.id}} -->
        <p class="h4 b jx-title">{{track.title}}</p>
        <!-- To do: find a way to show progress on paused tracks -->
        <div class="jx-time-span" ng-show="player.current.title == track.title">
          <div class="jx-scrubber no-touch-color" ng-click="seekTo($event)"></div>
          <div class="jx-buffer" style="width: {{currentBufferPercentage}}%"></div>
          <div class="jx-played" style="width: {{currentTimePercentage}}%"></div>
          <p class="jx-time tiny" ng-cloak>{{currentTimeMS | date:'mm:ss'}} | {{durationMS | date:'mm:ss'}}</p>
        </div>
        
        <div class="jx-toggle-actions" ng-hide="viewActions" ng-click="viewActions = true"><i class="icon i-jxn-carat"></i></div>
        <div class="jx-toggle-actions" ng-show="viewActions" ng-click="viewActions = false"><i class="h4 icon i-jxn-close"></i></div>
        <div class="jx-actions" style="display:none" ng-cloak ng-hide="!viewActions" ng-animate="'slideleft'">
          <a ng-href="{{track.permalink_url}}" target="_blank"><i class="icon i-jxn-link"></i></a>
          <a href="" ng-click="like(track.id)" ng-hide="liked"><i class="icon i-jxn-heart"></i></a>
          <a href="" ng-click="unlike(track.id)" ng-show="liked" class="active"><i class="icon i-jxn-heart"></i></a>
        </div>
        
      </div>
    </div>
    
    <div class="set"  ng-switch-when="playlist">
      
      <h2>{{track.title}}</h2>  
      
      <div class="track track-{{track.title}}" ng-repeat="setTrack in track.tracks">
        
        <div class="jx-player media">
        
          <a href="" class="jx-play no-touch-color" ng-click="playTracks(track.tracks, $index)" ng-hide="player.current.title == setTrack.title"><i class="i-jxn-play"></i></a>
          <a href="" class="jx-pause no-touch-color" ng-click="pauseTrack(setTrack)" ng-show="player.current.title == setTrack.title"><i class="i-jxn-pause"></i></a>
          <div class="bd">
            <p class="jx-artist">{{setTrack.user.username}}</p>
            <p class="h4 b jx-title">{{setTrack.title}}</p>
            <!-- To do: find a way to show progress on paused tracks -->
            <div class="jx-time-span" ng-show="player.current.title == setTrack.title">
              <div class="jx-scrubber no-touch-color" ng-click="seekTo($event)"></div>
              <div class="jx-buffer" style="width: {{currentBufferPercentage}}%"></div>
              <div class="jx-played" style="width: {{currentTimePercentage}}%"></div>
              <p class="jx-time tiny">{{currentTimeMS | date:'mm:ss'}} | {{durationMS | date:'mm:ss'}}</p>
            </div> <!-- /.jx-time-span -->
          </div> <!-- /.bd -->
          
        </div><!-- /.jx-player -->
          
      </div><!-- /.track -->
    </div><!-- /.set -->
    
    
    
    
  </div><!-- Track -->
  
  <a href="" class="show-more" ng-click="showMore()" ng-hide="tracks.length <= pageOffset || tracksLoading">Show More</a>
  <div class="show-more" ng-show="tracksLoading">Loading...</div>
  
</div><!-- end sc-tracklist -->