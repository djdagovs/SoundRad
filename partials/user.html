<div ng-controller="UserCtrl">
  
  <div class="borbot bor-gray2 overhide">
    
    <h2 class="reg pad">{{viewUsername}}</h2>
  
    <div class="tappad">
      <a ng-href="/{{viewUser}}" class="btn-sm fl mb-5" ng-class="{'btn-prime rc': !viewType}">Tracks</a>
      <a ng-href="/{{viewUser}}/sets" class="btn-sm fl mb-5" ng-class="{'btn-prime rc': viewType == 'sets'}">Sets</a>
      <a ng-href="/{{viewUser}}/likes" class="btn-sm fl mb-5" ng-class="{'btn-prime rc': viewType == 'likes'}">Likes</a>
      <a ng-href="/{{viewUser}}/info" class="btn-sm fl mb-5" ng-class="{'btn-prime rc': viewType == 'info'}">Info</a>
    </div>
  
  </div>
  
  <div ng-switch="showTracklist">
    <div ng-switch-when="true" ng-include src="'/partials/_tracklist.html'" ng-controller="TracklistCtrl"></div>
  </div>
  
  
  <div ng-switch="viewType == 'info' && !!userData" class="">
    <div ng-switch-when="true">
      <div class="tappad pt-5 pb-5 overhide borbot bor-gray2">
        <a href="" class="btn-sm fl text">{{userData.followers_count}} Followers</a>
        <a href="/{{viewUser}}/following" class="btn-sm fl text">{{userData.followings_count}} Following</a>
      </div>
      
      <p class="pad maxwi4" ng-bind-html-unsafe="userData.description | richtext"></p>
    </div>
  </div>
  
  
  <div ng-switch="viewType == 'following'">
    <div ng-switch-when="true">
      <div class="borbot bor-gray2">
        <h2 class="h3 reg pad dib">Following</h2>
        <div class="fr pad">
          <select class="fr marto" ng-model="sortFollowings" ng-options="sort as sort.human for sort in sorts"></select>
        </div>
      </div>
      <div ng-show="contentLoading" class="tappad gray5 txtcen">Loading...</div>
      <a ng-href="/{{following.permalink}}" ng-repeat="following in followings | orderBy: sortFollowings.json :sortFollowings.reverse" class="db tappad-s borbot bor-gray2">
        {{following.username}}
        <!-- <pre>{{following | json}}</pre> -->
      </a>
    </div>
  </div>
  
</div>  
