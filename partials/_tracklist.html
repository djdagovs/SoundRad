
<div ng-switch on="!!isSetsList">

  <div ng-switch-when="false">
    <div ng-repeat="track in tracks" ng-controller="TrackCtrl"
      class="table border-bottom" ng-class="{'is-active bg-active': player.playing.id == track.id}">

      <a href="" ng-click="player.play(tracks, $index)"
        class="table-cell clearfix px1 py0 text">
        <p class="small">{{ track.user.username }}</p>
        <h3 class="">{{ track.title }}</h3>
      </a>

      <div class="table-cell right-align">
        <div class="dropdown inline-block">
          <a href="" ng-click="toggleDropdown()" class="h2 btn btn-text"><i class="ss-icon ss-ellipsis"></i></a>
          <div class="dropdown-body dropdown-body-right bold mr1 fadein" ng-class="{'is-open': dropdownIsOpen }">
            <ul class="ul clearfix menu menu-reverse rounded" ng-hide="addToPlaylistIsOpen || shareIsOpen">
              <li>
                <a href=""
                  ng-click="like(track)" ng-hide="track.user_favorite"
                  class="popin">
                    <i class="ss-icon ss-heart"></i> Like
                </a>
              </li>
              <li>
                <a href=""
                  ng-click="unlike(track)" ng-show="track.user_favorite"
                  class="is-active popin">
                    <i class="ss-icon ss-heart"></i> Liked
                </a>
              </li>
              <li>
                <a href="" ng-click="toggleAddToPlaylist()" class="">
                    Add to Playlist
                </a>
              </li>
              <!-- <li>
                <a href="" ng-click="toggleShare()" class="">
                  Share
                </a>
              </li> -->
              <li>
                <a href="/{{ track.user.permalink }}/{{ track.permalink }}" class="">More Details</a>
              </li>
            </ul>
            <div ng-show="addToPlaylistIsOpen" class="clearfix white bg-highlight rounded popin">
              <a href="" ng-click="toggleAddToPlaylist()" class="block y3 px1 white">Cancel</a>
              <ul class="ul menu menu-reverse">
                <li class="px1"><input type="text" class="input mb1" placeholder="Create New Playlist" /></li>
                <li ng-repeat="set in userPlaylists">
                  <a href="" ng-click="addToPlaylist(track, set)">{{ set.title }}</a>
                </li>
              </ul>
            </div>
            <div ng-show="shareIsOpen">
              <a href="">Tweet</a>
              <a href="">http://soundrad.com/{{ track.user.permalink }}/{{ track.permalink }}</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="sets-list" ng-switch-when="true">
    <div ng-repeat="track in tracks" class="y3 px1 border-bottom">
      <a href=""
        ng-click="preload('/' + track.user.permalink + '/sets/' + track.permalink, track)"
        class="block text">
          <h3 class="">{{ track.title }}</h3>
      </a>
    </div>
  </div>

</div>

<div ng-show="isLoading" class="y3 center">Loading...</div>
<div ng-show="!isLoading && tracks.length == 0" class="y3 center">No Results</div>

<div class="y3 px1" ng-show="hasPrevPage || hasNextPage || streamNextPage" ng-hide="isLoading">
  <a href="#{{page}}" ng-show="hasPrevPage" ng-click="prevPage()" class="inline-block bold mr1">Previous</a>
  <a href="#{{page}}" ng-show="hasNextPage" ng-click="nextPage()" class="right inline-block bold">Next</a>
  <a href="" ng-show="streamNextPage" ng-click="showMoreStream()" class="block bold y3 center">Show More</a>
</div>
