<!-- Tracklist -->

<div ng-show="contentLoading" class="tappad gray5 txtcen">Loading...</div>

<div ng-show="!contentLoading && tracks.length == 0" class="tappad gray5 txtcen">
  No Results
</div> 

<!-- <div ng-hide="contentLoading"> -->
<div>

  <div id="{{track.permalink}}" ng-repeat="track in tracks" ng-switch="!!track.tracks" ng-controller="TrackCtrl">
    
    <div ng-switch-when="false" class="posrel media borbot bor-gray2">
      <div class="img">
        <a href="" ng-click="player.play(tracks, $index)" ng-hide="player.playing.id == track.id" class="db sq4 lh4 txtcen gray5"><i class="icon icon-play db anim-pop-in"></i></a>
        <a href="" ng-click="player.pause(track)" ng-show="player.playing.id == track.id" class="db sq4 lh4 txtcen"><i class="icon icon-pause db anim-pop-in"></i></a>
      </div>
      <div class="bd posrel minhi4 hov">
        <a ng-href="/{{track.user.permalink}}" class="db mt-25 gray5 truncate mr2">{{track.user.username}}</a>
        <a href="" ng-click="preload('/' + track.user.permalink + '/' + track.permalink, track)" class=" h3 b text truncate mr2">{{track.title}}</a>
      </div>
      <!-- <div ng-include src="'partials/_trackactions.html'"></div> -->
      <!-- <div>
        <a class="btn btn-sm btn-gray anim-pop-in mr" href="" ng-click="like(track)" ng-hide="track.user_favorite"><i class="icon icon-heart sm"></i> Like</a>
        <a class="btn btn-sm btn-prime anim-pop-in mr" href="" ng-click="unlike(track)" ng-show="track.user_favorite"><i class="icon icon-heart sm"></i> Liked</a> -->
        <!-- <div>{{ track }}</div> -->

        <!-- <a href="" ng-click="addToPlaylist(track)">Add to Playlist</a> -->
        <!-- <div>viewUsername: {{ viewUsername }} | me.username: {{ me.username }}</div> -->
        <!-- <div>track: <pre>{{ track | json }}</pre></div> -->
        <!-- <div>
          <p>Add to playlist:</p>
          <a href=""
            ng-repeat="playlist in userPlaylists"
            ng-click="addToPlaylist(track, playlist)">
              {{ playlist.title }}
          </a>
        </div> -->
        <!-- <div ng-show="set.user_id == me.id">
          <a href="" ng-click="removeFromPlaylist(track, set)">Remove from {{ set.title }}</a>
        </div> -->
      <!-- </div> -->
    </div>

    <div ng-switch-when="true" class="">
      <div id="{{track.id}}" class="media borbot bor-gray2 posrel">
        <div class="img">
          <a href="" ng-click="[preload('/' + track.user.permalink + '/sets/' + track.permalink, track), player.play(track.tracks, 0)]" ng-hide="player.tracks == track.tracks && (player.playing || player.paused)" class="db sq4 lh4 txtcen gray5"><i class="icon icon-play"></i></a>
        </div>
        <div class="bd">
          <a ng-href="/{{track.user.permalink}}" class="fl cl mt-25 gray5 truncate pr">{{track.user.username}}</a>
          <a href="" ng-click="preload('/' + track.user.permalink + '/sets/' + track.permalink, track)" class="fl cl h3 b text truncate pr">{{track.title}}</a>
        </div>
      </div>
    </div>

  </div>

</div>

<div class="tappad mb txtcen overhide" ng-show="hasPrevPage || hasNextPage || streamNextPage" ng-hide="contentLoading">
  <a href="#{{page}}" ng-show="hasPrevPage" ng-click="prevPage()" class="tappad fl">Previous</a>
  <a href="#{{page}}" ng-show="hasNextPage" ng-click="nextPage()" class="tappad fr">Next</a>
  <a href="" ng-show="streamNextPage" ng-click="showMoreStream()" class="db tappad">Show More</a>
</div>
