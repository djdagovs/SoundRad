<div class="container" ng-controller="TracklistCtrl">
  <ul class="list-reset mb0">
    <li class="flex flex-align-center flex-justify-between disclosure-group border-bottom button-nav-light"
      style="min-height:2.5rem"
      ng-class="{
        'is-active': player.playing == track,
        'is-open': disclosureIsOpen
      }"
      ng-repeat="track in tracks track by $index">
      <a href class="cell cell-1 col-6 h5 button dark-gray" ng-click="player.play($index)">
        {{ track.user.username }} - {{ track.title }}
      </a>

      <div class="cell disclosure-body">
        <div class="flex h6 bg-darken-1">
          <a ng-href="/{{ track.user.permalink }}"
            class="cell cell-1 truncate button button-narrow button-nav-light">
            {{ track.user.username }}
          </a>
          <a ng-href="{{ track.permalink_url }}?auto_play=false"
            class="cell col-5 center button button-narrow button-nav-light" target="_blank">
            Soundcloud
          </a>
        </div>
      </div>

      <a href ng-click="like(track)"
        ng-hide="track.user_favorite"
        class="cell button button-icon button-icon-light" target="_blank">
        <svg class="icon" icon="heart"></svg>
      </a>
      <a href ng-click="unlike(track)"
        ng-show="track.user_favorite"
        class="cell button button-icon button-icon-light is-active" target="_blank">
        <svg class="icon red" icon="heart"></svg>
      </a>

      <a href class="cell button button-icon button-icon-light"
        title="Toggle track actions"
        ng-click="disclosureIsOpen = !disclosureIsOpen">
        <svg class="icon" icon="chevronRight"></svg>
      </a>

    </li>
  </ul>

  <a href class="center py3 button block button-nav-light"
    ng-hide="isLoading || !hasNextPage"
    ng-click="nextPage()">
      Load More
  </a>

  <div class="center button block py3" ng-show="isLoading">Loading...</div>

  <div class="py3" ng-show="!hasNextPage"></div>

</div>


